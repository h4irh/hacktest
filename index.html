<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cybersecurity Learning Lab</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 100%);
            color: #00ff41;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            border: 2px solid #00ff41;
            border-radius: 10px;
            background: rgba(0, 255, 65, 0.1);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 0 10px #00ff41;
        }

        .warning {
            background: rgba(255, 193, 7, 0.2);
            border: 2px solid #ffc107;
            color: #ffc107;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 30px;
            text-align: center;
        }

        .labs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .lab-card {
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid #00ff41;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .lab-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 255, 65, 0.3);
            background: rgba(0, 255, 65, 0.1);
        }

        .lab-card h3 {
            color: #ff6b6b;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .difficulty {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8em;
            margin-bottom: 10px;
        }

        .easy { background: #28a745; }
        .medium { background: #ffc107; color: #000; }
        .hard { background: #dc3545; }

        .lab-content {
            display: none;
            margin-top: 30px;
            padding: 20px;
            border: 1px solid #555;
            border-radius: 5px;
            background: rgba(0, 0, 0, 0.7);
        }

        .lab-content.active {
            display: block;
        }

        input, button, textarea {
            background: #1a1a1a;
            border: 1px solid #00ff41;
            color: #00ff41;
            padding: 8px 12px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }

        button {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        button:hover {
            background: #00ff41;
            color: #000;
        }

        .vulnerable-code {
            background: #2d1b1b;
            border: 1px solid #ff6b6b;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            overflow-x: auto;
        }

        .success {
            color: #28a745;
            font-weight: bold;
        }

        .error {
            color: #dc3545;
            font-weight: bold;
        }

        #admin-panel {
            display: none;
            margin-top: 20px;
            padding: 20px;
            border: 2px solid #ff6b6b;
            border-radius: 5px;
            background: rgba(255, 107, 107, 0.1);
        }

        .hidden-comment {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîí Cybersecurity Learning Lab</h1>
            <p>Educational Platform for Ethical Hacking Practice</p>
        </div>

        <div class="warning">
            ‚ö†Ô∏è <strong>EDUCATIONAL USE ONLY</strong> - These vulnerabilities are for learning purposes. Never use these techniques on systems you don't own or without explicit permission.
        </div>

        <div class="labs-grid">
            <div class="lab-card" onclick="toggleLab('xss-lab')">
                <h3>üî• XSS Playground</h3>
                <span class="difficulty easy">Easy</span>
                <p>Learn about Cross-Site Scripting vulnerabilities and how to identify them.</p>
            </div>

            <div class="lab-card" onclick="toggleLab('sql-lab')">
                <h3>üíâ SQL Injection Lab</h3>
                <span class="difficulty medium">Medium</span>
                <p>Practice identifying and exploiting SQL injection vulnerabilities.</p>
            </div>

            <div class="lab-card" onclick="toggleLab('auth-lab')">
                <h3>üîê Authentication Bypass</h3>
                <span class="difficulty easy">Easy</span>
                <p>Explore weak authentication mechanisms and bypass techniques.</p>
            </div>

            <div class="lab-card" onclick="toggleLab('source-lab')">
                <h3>üëÄ Information Disclosure</h3>
                <span class="difficulty easy">Easy</span>
                <p>Find hidden information in source code and comments.</p>
            </div>

            <div class="lab-card" onclick="toggleLab('csrf-lab')">
                <h3>üéØ CSRF Challenge</h3>
                <span class="difficulty medium">Medium</span>
                <p>Understanding Cross-Site Request Forgery attacks.</p>
            </div>

            <div class="lab-card" onclick="toggleLab('cookie-lab')">
                <h3>üç™ Cookie Manipulation</h3>
                <span class="difficulty medium">Medium</span>
                <p>Learn about insecure cookie handling and manipulation.</p>
            </div>
        </div>

        <!-- XSS Lab -->
        <div id="xss-lab" class="lab-content">
            <h3>Cross-Site Scripting (XSS) Lab</h3>
            <p>Try to inject JavaScript code that will execute when the page loads.</p>
            
            <div style="margin: 20px 0;">
                <label>Enter your name: </label>
                <input type="text" id="xss-input" placeholder="What's your name?">
                <button onclick="displayName()">Submit</button>
            </div>
            
            <div id="xss-output"></div>
            
            <div class="vulnerable-code">
                <strong>Vulnerable Code:</strong><br>
                function displayName() {<br>
                &nbsp;&nbsp;var name = document.getElementById('xss-input').value;<br>
                &nbsp;&nbsp;document.getElementById('xss-output').innerHTML = 'Hello ' + name + '!';<br>
                }
            </div>
            
            <p><strong>Hint:</strong> Try entering: &lt;script&gt;alert('XSS')&lt;/script&gt;</p>
        </div>

        <!-- SQL Injection Lab -->
        <div id="sql-lab" class="lab-content">
            <h3>SQL Injection Lab</h3>
            <p>This simulates a login form vulnerable to SQL injection.</p>
            
            <div style="margin: 20px 0;">
                <label>Username: </label>
                <input type="text" id="sql-username" placeholder="admin"><br><br>
                <label>Password: </label>
                <input type="password" id="sql-password" placeholder="password"><br><br>
                <button onclick="simulateLogin()">Login</button>
            </div>
            
            <div id="sql-result"></div>
            
            <div class="vulnerable-code">
                <strong>Simulated Query:</strong><br>
                SELECT * FROM users WHERE username = 'input' AND password = 'input'
            </div>
            
            <p><strong>Hint:</strong> Try username: admin' OR '1'='1' --</p>
        </div>

        <!-- Authentication Bypass Lab -->
        <div id="auth-lab" class="lab-content">
            <h3>Authentication Bypass Lab</h3>
            <p>Can you find a way to access the admin panel?</p>
            
            <div style="margin: 20px 0;">
                <label>Access Code: </label>
                <input type="text" id="auth-input" placeholder="Enter access code">
                <button onclick="checkAccess()">Check Access</button>
            </div>
            
            <div id="auth-result"></div>
            
            <div id="admin-panel">
                <h4 class="success">üéâ Admin Panel Accessed!</h4>
                <p>Congratulations! You've successfully bypassed the authentication.</p>
                <p>In a real scenario, this could give you administrative privileges.</p>
            </div>
            
            <div class="vulnerable-code">
                <strong>Vulnerable Code:</strong><br>
                if (code === 'admin123' || code.length > 20) {<br>
                &nbsp;&nbsp;// Grant access<br>
                }
            </div>
            
            <p><strong>Hint:</strong> Look at the vulnerable code. What happens with very long inputs?</p>
        </div>

        <!-- Information Disclosure Lab -->
        <div id="source-lab" class="lab-content">
            <h3>Information Disclosure Lab</h3>
            <p>Sensitive information is sometimes hidden in plain sight. Can you find the secret?</p>
            
            <div style="margin: 20px 0;">
                <button onclick="revealSecret()">Click me for a hint</button>
            </div>
            
            <div id="secret-result"></div>
            
            <!-- Hidden comment with sensitive info -->
            <!-- SECRET FLAG: flag{hidden_in_comments_2024} -->
            <!-- API_KEY: sk_test_1234567890abcdef -->
            <!-- Database password: super_secret_db_pass -->
            
            <div class="hidden-comment">
                This div contains: SECRET_TOKEN_12345
            </div>
            
            <p><strong>Hint:</strong> Check the page source code (Ctrl+U or right-click ‚Üí View Source)</p>
        </div>

        <!-- CSRF Lab -->
        <div id="csrf-lab" class="lab-content">
            <h3>Cross-Site Request Forgery (CSRF) Lab</h3>
            <p>This demonstrates how CSRF attacks can manipulate user actions.</p>
            
            <div style="margin: 20px 0;">
                <p>Current Balance: $<span id="balance">1000</span></p>
                <label>Transfer Amount: $</label>
                <input type="number" id="transfer-amount" placeholder="100">
                <label>To Account: </label>
                <input type="text" id="transfer-to" placeholder="account123">
                <button onclick="transferMoney()">Transfer Money</button>
            </div>
            
            <div id="transfer-result"></div>
            
            <div class="vulnerable-code">
                <strong>Vulnerable:</strong> No CSRF token validation!<br>
                Any external site can trigger this transfer request.
            </div>
            
            <p><strong>Note:</strong> In a real attack, this form could be triggered from any external website.</p>
        </div>

        <!-- Cookie Manipulation Lab -->
        <div id="cookie-lab" class="lab-content">
            <h3>Cookie Manipulation Lab</h3>
            <p>This lab demonstrates insecure cookie handling.</p>
            
            <div style="margin: 20px 0;">
                <button onclick="createSession()">Login as Guest</button>
                <button onclick="checkCookies()">Check Current Session</button>
                <button onclick="clearCookies()">Logout</button>
            </div>
            
            <div id="cookie-result"></div>
            
            <div class="vulnerable-code">
                <strong>Insecure Cookie:</strong><br>
                document.cookie = "role=guest; user=guestuser";<br>
                // No HttpOnly flag, easily manipulated!
            </div>
            
            <p><strong>Hint:</strong> Use browser dev tools (F12) to modify cookies. Try changing "role=guest" to "role=admin"</p>
        </div>
    </div>

    <script>
        // Global variables for labs
        let currentBalance = 1000;

        function toggleLab(labId) {
            // Hide all labs
            const labs = document.querySelectorAll('.lab-content');
            labs.forEach(lab => lab.classList.remove('active'));
            
            // Show selected lab
            const selectedLab = document.getElementById(labId);
            selectedLab.classList.add('active');
            
            // Scroll to lab
            selectedLab.scrollIntoView({ behavior: 'smooth' });
        }

        // XSS Lab Functions
        function displayName() {
            const name = document.getElementById('xss-input').value;
            // Deliberately vulnerable to XSS
            document.getElementById('xss-output').innerHTML = 'Hello ' + name + '!';
        }

        // SQL Injection Lab Functions
        function simulateLogin() {
            const username = document.getElementById('sql-username').value;
            const password = document.getElementById('sql-password').value;
            const result = document.getElementById('sql-result');
            
            // Simulate SQL injection vulnerability
            if (username.includes("'") || username.toLowerCase().includes('or')) {
                result.innerHTML = '<span class="success">‚úÖ Login Successful! SQL Injection detected!</span><br>Simulated query bypassed security.';
            } else if (username === 'admin' && password === 'password123') {
                result.innerHTML = '<span class="success">‚úÖ Login Successful with correct credentials!</span>';
            } else {
                result.innerHTML = '<span class="error">‚ùå Login Failed!</span>';
            }
        }

        // Authentication Bypass Lab Functions
        function checkAccess() {
            const code = document.getElementById('auth-input').value;
            const result = document.getElementById('auth-result');
            const adminPanel = document.getElementById('admin-panel');
            
            // Vulnerable logic - buffer overflow simulation or simple bypass
            if (code === 'admin123' || code.length > 20) {
                result.innerHTML = '<span class="success">‚úÖ Access Granted!</span>';
                adminPanel.style.display = 'block';
            } else {
                result.innerHTML = '<span class="error">‚ùå Access Denied!</span>';
                adminPanel.style.display = 'none';
            }
        }

        // Information Disclosure Lab Functions
        function revealSecret() {
            const result = document.getElementById('secret-result');
            result.innerHTML = `
                <p><strong>Hint:</strong> Secrets are often hidden in:</p>
                <ul>
                    <li>HTML comments (&lt;!-- --&gt;)</li>
                    <li>Hidden div elements</li>
                    <li>JavaScript source code</li>
                    <li>CSS files</li>
                </ul>
                <p>Try viewing the page source!</p>
            `;
        }

        // CSRF Lab Functions
        function transferMoney() {
            const amount = parseInt(document.getElementById('transfer-amount').value);
            const toAccount = document.getElementById('transfer-to').value;
            const result = document.getElementById('transfer-result');
            
            if (amount && toAccount && amount <= currentBalance) {
                currentBalance -= amount;
                document.getElementById('balance').textContent = currentBalance;
                result.innerHTML = `<span class="success">‚úÖ Transfer of $${amount} to ${toAccount} completed!</span><br>
                <strong>Vulnerability:</strong> No CSRF protection - this could be triggered from any external site!`;
            } else {
                result.innerHTML = '<span class="error">‚ùå Transfer failed! Check amount and account.</span>';
            }
        }

        // Cookie Manipulation Lab Functions
        function createSession() {
            // Create insecure cookies
            document.cookie = "role=guest; path=/";
            document.cookie = "user=guestuser; path=/";
            document.cookie = "sessionid=abc123def; path=/";
            
            checkCookies();
        }

        function checkCookies() {
            const result = document.getElementById('cookie-result');
            const cookies = document.cookie;
            
            if (cookies) {
                let role = 'unknown';
                const roleMatch = cookies.match(/role=([^;]+)/);
                if (roleMatch) role = roleMatch[1];
                
                result.innerHTML = `
                    <p><strong>Current Session:</strong></p>
                    <p>All Cookies: ${cookies}</p>
                    <p>Your Role: <strong>${role}</strong></p>
                    ${role === 'admin' ? '<span class="success">üéâ Admin Access Detected!</span>' : ''}
                    <p><em>Try modifying the "role" cookie using browser dev tools!</em></p>
                `;
            } else {
                result.innerHTML = '<p>No active session. Please login first.</p>';
            }
        }

        function clearCookies() {
            // Clear cookies
            document.cookie = "role=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";
            document.cookie = "user=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";
            document.cookie = "sessionid=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";
            
            document.getElementById('cookie-result').innerHTML = '<p>Session cleared!</p>';
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üîç Cybersecurity Learning Lab Loaded');
            console.log('üîë Hidden Secret: dev_console_flag{check_console_logs}');
        });
    </script>
</body>
  </html>
